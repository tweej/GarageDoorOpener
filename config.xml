<?xml version="1.0"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="config.xsd">

    <!-- The IP address on which to listen for clients. This should normally be 0.0.0.0 -->
    <listen_ip>0.0.0.0</listen_ip>

    <!-- The TCP port on which to listen for clients. -->
    <listen_port>8888</listen_port>

    <!-- The path to the Java Keystore generated by generateKeystoreAndCertificate.sh -->
    <keystore>garage.jks</keystore>

    <!-- The password provided to generateKeystoreAndCertificate.sh. The fact that this is an element in the
    configuration file enables unattended startup. -->
    <keypassword>secretpassword</keypassword>

    <!-- This section contains variables to tune the server's ability to temporarily block clients which repeatedly
    submit incorrect codes. This section is optional. The feature can be disabled by removing this section from this
    file. -->
    <lockout>
        <!-- The number of incorrect code submissions an endpoint can attempt before being blocked for the duration
        specified by block_time -->
        <attempts>3</attempts>

        <!-- Seconds an endpoint will be prohibited from submitting codes after providing the number of incorrect codes
         specified by attempts -->
        <block_duration>180</block_duration>
    </lockout>

    <!-- This section defines all the valid codes, and a list of GPIOs that will pulse when the code is received. The
    AccessConstraints element is optional, as are each of its children, DayOfWeek, TimeOfDay, and DateTime. -->
    <codes>
        <code value="012345">
            <enabled>true</enabled>
            <owner>Me</owner>
            <description>Both sides</description>
            <gpios>2 16</gpios>
            <AccessConstraints>
                <DayOfWeek>
                    <Day>Saturday</Day>
                    <Day>Sunday</Day>
                    <Day>Monday</Day>
                </DayOfWeek>
                <TimeOfDay>
                    <TimeRange start="00:01:02" end="03:04:05" />
                    <TimeRange start="06:07:08" end="09:10:11" />
                    <TimeRange start="18:00:00" end="19:00:00" />
                </TimeOfDay>
                <DateTime>
                    <DateTimeRange start="2016-01-01T00:00:00" end="2017-01-01T00:00:00" />
                    <DateTimeRange start="2014-01-01T00:00:00" end="2015-01-01T00:00:00" />
                </DateTime>
            </AccessConstraints>
        </code>

        <code value="543210">
            <enabled>true</enabled>
            <owner>You</owner>
            <gpios>10</gpios>
        </code>
    </codes>

</config>
